{"version":3,"sources":["webpack:///./template/result.hbs","webpack:///./apiService.js","webpack:///./index.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","apiService","search","page","callback","fetch","then","response","json","d","refs","input","document","querySelector","ulResult","items","loadMore","image","addEventListener","e","preventDefault","innerHTML","currentTarget","elements","query","value","api","getData","array","html","hits","length","classList","remove","map","arr","dElements","join","insertAdjacentHTML","defaultModules","set","PNotifyMobile","alert","window","scrollBy","top","left","behavior","target","nodeName","largeImageURL","dataset","original","basicLightbox","show"],"mappings":"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","file":"main.9a382fc6edb50f658a63.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\r\\n\\r\\n<li class=\\\"galerry-item\\\">\\r\\n\\r\\n    <div class=\\\"img-container\\\">\\r\\n        <img class=\\\"small-image\\\" src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"webformatURL\") || (depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":31,\"column\":38},\"end\":{\"line\":31,\"column\":54}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"tags\") || (depth0 != null ? lookupProperty(depth0,\"tags\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"tags\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":31,\"column\":61},\"end\":{\"line\":31,\"column\":69}}}) : helper)))\n    + \"\\\" data-original=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"largeImageURL\") || (depth0 != null ? lookupProperty(depth0,\"largeImageURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"largeImageURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":31,\"column\":86},\"end\":{\"line\":31,\"column\":103}}}) : helper)))\n    + \"\\\" />\\r\\n\\r\\n        <div class=\\\"stats\\\">\\r\\n            <p class=\\\"stats-item\\\">\\r\\n                <i class=\\\"material-icons\\\" id=\\\"likes\\\">thumb_up</i>\\r\\n                \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"likes\") || (depth0 != null ? lookupProperty(depth0,\"likes\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":36,\"column\":16},\"end\":{\"line\":36,\"column\":25}}}) : helper)))\n    + \"\\r\\n            </p>\\r\\n            <p class=\\\"stats-item\\\">\\r\\n                <i class=\\\"material-icons\\\" id=\\\"views\\\">visibility</i>\\r\\n                \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"views\") || (depth0 != null ? lookupProperty(depth0,\"views\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":40,\"column\":16},\"end\":{\"line\":40,\"column\":25}}}) : helper)))\n    + \"\\r\\n            </p>\\r\\n            <p class=\\\"stats-item\\\">\\r\\n                <i class=\\\"material-icons\\\" id=\\\"comments\\\">comment</i>\\r\\n                \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"comments\") || (depth0 != null ? lookupProperty(depth0,\"comments\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":44,\"column\":16},\"end\":{\"line\":44,\"column\":28}}}) : helper)))\n    + \"\\r\\n            </p>\\r\\n            <p class=\\\"stats-item\\\">\\r\\n                <i class=\\\"material-icons\\\" id=\\\"downloads\\\">cloud_download</i>\\r\\n                \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"downloads\") || (depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":48,\"column\":16},\"end\":{\"line\":48,\"column\":29}}}) : helper)))\n    + \"\\r\\n            </p>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n</li>\";\n},\"useData\":true});","export default function apiService(search, page, callback) {\r\n\r\n  fetch(`https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${search}&page=${page}&per_page=12&key=16992764-8af42002c4860ee5a456b1bc1`)\r\n    .then(response => response.json())\r\n    .then(d => callback(d));\r\n  return callback\r\n}\r\n","import './styles.css';\nimport api from './apiService.js';\nimport dElements from './template/result.hbs';\nimport * as basicLightbox from 'basiclightbox'\nimport '../node_modules/basiclightbox/src/styles/main.scss';\n\nimport {\n  alert,\n  defaultModules\n} from '@pnotify/core';\nimport '@pnotify/core/dist/PNotify.css';\nimport * as PNotifyMobile from '@pnotify/mobile';\nimport '@pnotify/mobile/dist/PNotifyMobile.css';\n\nconst refs = {\n  input: document.querySelector('#search-form'),\n  ulResult: document.querySelector('.gallery'),\n  items: document.querySelector('.photo-card'),\n  loadMore: document.querySelector('.load-more_button'),\n  image: document.querySelector('.small-image'),\n};\n\nrefs.input.addEventListener('submit', inputLogic);\n\nlet page = 1;\n\nfunction inputLogic(e) {\n  page = 1;\n  e.preventDefault();\n  refs.ulResult.innerHTML = '';\n  const form = e.currentTarget;\n  const input = form.elements.query;\n\n  if (input.value) {\n    api(input.value, page, getData);\n  }\n}\n\nrefs.loadMore.addEventListener('click', pageNumber);\n\nfunction pageNumber(e) {\n  if (refs.loadMore) {\n    page += 1;\n\n\n    const form = refs.input;\n    const input = form.elements.query;\n    api(input.value, page, getData);\n\n\n  }\n}\n\nfunction getData(data) {\n  if (data.hits.length > 0) {\n    refs.loadMore.classList.remove('hidden');\n    showPhotos(data.hits);\n  } else {\n    onError();\n  }\n\n  if (page === 1) {\n    window.scrollBy({\n      top: 0,\n    })\n  } else {\n    window.scrollBy({\n      top: 800,\n      left: 100,\n      behavior: 'smooth'\n    });\n  }\n\n}\n\nfunction showPhotos(array) {\n  const html = array.map(arr => dElements(arr)).join('');\n\n  refs.ulResult.insertAdjacentHTML('beforeend', html);\n}\n\nfunction onError(notification) {\n  defaultModules.set(PNotifyMobile, {});\n\n  alert('try something else');\n}\n\n\n\nrefs.ulResult.addEventListener('click', bigImage)\n\nfunction bigImage(e) {\n  if (e.target.nodeName !== 'IMG') {\n\n    return;\n\n  }\n  const largeImageURL = e.target.dataset.original\n\n  const instance = basicLightbox.create(` <img src=\"${largeImageURL}\" width=\"1280\" height=\"980\">\n  `)\n\n  instance.show()\n}\n"],"sourceRoot":""}